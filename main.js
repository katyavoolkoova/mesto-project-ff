(()=>{"use strict";var e=function(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");n(t)}},t=function(t){t.classList.add("popup_is-opened"),document.addEventListener("keydown",e)},n=function(t){t.classList.remove("popup_is-opened"),document.removeEventListener("keydown",e)},o=function(e){e.querySelector(".popup__close").addEventListener("click",(function(){n(e)})),e.addEventListener("mousedown",(function(t){t.target.classList.contains("popup")&&n(e)}))};function r(e){e.remove()}function a(e){e.classList.contains("card__like-button_is-active"),e.classList.toggle("card__like-button_is-active")}var c=document.querySelector("#card-template").content;function l(e,t){var n=t.removeNodeCallback,o=t.handleOpenImageCallback,r=t.likeCardCallback,a=c.querySelector(".card").cloneNode(!0),l=a.querySelector(".card__delete-button"),d=a.querySelector(".card__like-button"),i=a.querySelector(".card__image");return a.querySelector(".card__title").textContent=e.name,i.src=e.link,i.alt=e.name,l.addEventListener("click",(function(){n(a)})),i.addEventListener("click",(function(){o(e)})),d.addEventListener("click",(function(){r(d)})),a}var d=document.querySelector(".places__list"),i=document.forms["edit-profile"],s=document.forms["new-place"],p=s.elements["place-name"],u=s.elements.link,m=document.querySelector(".popup_type_new-card"),v=document.querySelector(".popup_type_edit"),k=document.querySelector(".popup_type_image"),_=document.querySelector(".profile__add-button"),f=document.querySelector(".profile__edit-button"),y=k.querySelector(".popup__caption"),b=k.querySelector(".popup__image"),q=document.querySelector(".profile__title"),C=document.querySelector(".profile__description"),S=i.elements.name,g=i.elements.description;function L(e){var n=e.name,o=e.link;b.src=o,b.alt=n,y.textContent=n,t(k)}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=l(e,{removeNodeCallback:r,likeCardCallback:a,handleOpenImageCallback:L});d.append(t)})),o(m),o(v),o(k),f.addEventListener("click",(function(){t(v),S.value=q.textContent,g.value=C.textContent})),_.addEventListener("click",(function(){s.reset(),t(m)})),i.addEventListener("submit",(function(e){e.preventDefault();var t=S.value,o=g.value;q.textContent=t,C.textContent=o,n(v)})),s.addEventListener("submit",(function(e){e.preventDefault();var t=l({name:p.value,link:u.value},{removeNodeCallback:r,likeCardCallback:a,handleOpenImageCallback:L});d.prepend(t),n(m),p.value="",u.value=""}))})();